<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        var arr1 = [
                "委托日期",
                "委托时间",
                "委托编号",
                "期权合约编码",
                "合约名称",
                "证券代码",
                "买卖方向",
                "开平仓方向",
                "委托属性",
                "委托价格",
                "委托数量",
                "成交数量",
                "成交均价",
                "订单名称",
                "委托类别",
                "委托状态",
                "委托来源",
                "已撤数量",
                "撤单允许标志",
                "市场类型",
                "资金账号",
                "衍生品合约账户",
                "备兑标志",
                "废单原因",
                "期权种类",
            ]
        var arr2 = [
                "委托时间",
                "委托日期",
                "委托编号",
                "期权合约编码",
                "合约名称",
                "证券代码",
                "买卖方向",
                "开平仓方向",
                "委托价格",
                "委托数量",
                "成交数量",
                "委托状态",
                "成交价格",
                "业务名称",
                "备兑标志",
                "是否可撤",
                "撤单允许标志",
                "委托属性值",
                "合约账户",
                "市场类别",
                "委托状态值",
                "废单原因",
                "资产账户",
                "委托类别",
                "委托来源",
                "撤单数量",
                "期权种类",
        ]
         
        var turnMap = {
                "委托状态值": "委托状态",
                "委托属性值": "委托属性",
                "市场类别": "市场类型",
                "成交价格": "成交均价",
                "资产账户": "资金账号",
                "撤单数量": "已撤数量",
                "业务名称": "订单名称",
        }
        console.log('期望数据： ' + arr1.join(","))
        console.log('获取数据： ' + arr2.join(","))
        console.log(getDiffFiled(arr1, arr2, turnMap));
        
        function getDiffFiled(arr1, arr2, turnMap) {
            var lack = [];
            var more = [];
            var turn = [];
            var turnKes = Object.keys(turnMap);
            var turnValues = Object.values(turnMap);

            for (var i = 0; i < arr1.length; i++) {
                var filed = arr1[i];

                if (arr2.indexOf(filed) == -1 && turnValues.indexOf(filed) == -1) {
                    lack.push(filed);
                }
            }
            for (var i = 0; i < arr2.length; i++) {
                var filed = arr2[i];
                if (arr1.indexOf(filed) == -1 && turnKes.indexOf(filed) == -1) {
                    more.push(filed);
                }
            }
            return [
                `期望数据：${arr1.join(",")}`, 
                `获取数据： ${arr2.join(",")}`,  
                `缺少字段： ${lack.join(",")}`, 
                `多余字段： ${more.join(",")}`, 
                `映射字段： ${JSON.stringify(turnMap, null, 2)}`
            ]
            // return {
            //     lack: lack,
            //     more: more,
            //     turn: turnMap
            // }
        }
      
    </script>
</body>
</html>