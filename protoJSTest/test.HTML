<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    let res = getRungeNum(100, 5, 10, 40)
    console.log(res)
    function getRungeNum(totalAmount, num, minMoney = 0, maxMoney, isInt) {
      if (!minMoney) minMoney = 0.01;
      if (!maxMoney) maxMoney = totalAmount / 2;
      if (num === 1) return [totalAmount];
      if (totalAmount < num * minMoney || totalAmount > num * maxMoney) {
        throw new Error("参数异常，分配不完或者不够分");
      }

      let arr = [];
      let avg = (totalAmount - minMoney * num) / num
      while (num > 1) {
        let money;
        let max = totalAmount - num * minMoney;
        money = (Math.random() * max + minMoney).toFixed(isInt ? 0 : 2);
        arr.push(money);
        totalAmount -= money;
        num -= 1;
      }
      arr.push(totalAmount.toFixed(isInt ? 0 : 2));
      console.log(
      	"aaaasum",
      	arr.reduce((sum, item) => {
      		return Number(sum) + Number(item);
      	})
      );
      return arr;
    }

    function getRungeNum2(totalAmount, num, minMoney = 0, maxMoney, isInt) {
      if (!minMoney) minMoney = 0.01;
      if (!maxMoney) maxMoney = totalAmount - minMoney * num -1;
      if (num === 1) return [totalAmount];
      if (totalAmount < num * minMoney || totalAmount > num * maxMoney) {
        throw new Error("参数异常，分配不完或者不够分");
      }
      let res = []
      let amt = Math.random() * (maxMoney - minMoney) + minMoney
      res.push(amt)
      // res.concat(getRungeNum2(totalAmount - amt, num - 1, minMoney, maxMoney, isInt))
      return res.concat(getRungeNum2(totalAmount - amt, num - 1, minMoney, maxMoney, isInt))
    }








    const profitChartDateNav = [{ name: '近三月', val: '3m' }, { name: '近一年', val: '1y' }, { name: '今年以来', val: 'yd' }];
    // 净值走势图选项
    const netValueChartDateNav = [{ name: '近1月', val: 'MONTH' }, { name: '近3月', val: 'SEASON' }, { name: '近6月', val: 'HALF_YEAR' }];
    const netValueMoreDateNav = [{ name: '今年以来', val: 'THIS_YEAR' }, { name: '近一年', val: 'YEAR' }, { name: '近三年', val: 'THREE_YEAR' }, { name: '近五年', val: 'FIVE_YEAR' }, { name: '成立以来', val: 'ALL' }];
    // 单只产品收益走势
    const simpleProfitChartDateNav = [{ name: '近3月', val: '3m' }, { name: '近1年', val: '1y' }, { name: '今年以来', val: 'yd' }, { name: '持有以来', val: 'all' }];
    // 持仓产品净值走势
    const holdNetChartDateNav = [{ name: '近1月', val: '1m' }, { name: '近3月', val: '3m' }, { name: '近6月', val: '6m' }];
    const holdNetMoreDateNav = [{ name: '今年以来', val: 'yd' }, { name: '近一年', val: '1y' }, { name: '近三年', val: '3y' }, { name: '近五年', val: '5y' }, { name: '成立以来', val: 'tot' }];
    // // 收益贡献
    const contriDateNav = [{ name: '近三月', val: '3m' }, { name: '近一年', val: '6m' }, { name: '今年以来', val: 'yd' }, { name: '成立以来', val: 'tot' }];
    // let res = conectStr(holdNetChartDateNav, holdNetMoreDateNav)
    // let res = conectStr(simpleProfitChartDateNav)
    // console.log(res);
    function conectStr(arr, arr2 = []) {
      let tem = [...arr, ...arr2];
      return tem.reduce((sum, item) => {
        return sum + item.name + '、';
      }, '');
    }
  </script>
</body>

</html>